<%- include("partials/header"); -%>

<main class="container">
  <section class="py-2 text-center container">
    <div class="row py-lg-3">
      <div class="col-lg-6 col-md-8 mx-auto">
        <h1><%= pageTitle %></h1>
      <p><%= startingContent %></p>
      <a href="/compose" class="btn btn-primary publishBtn">Write your own story</a>
      </div>
    </div>
  </section>


  <div class="post-section<%= posts.length === 0 ? '' : ' bg-light' %>">
    <div class="container">
      <% if (posts.length === 0) { %>
        <p>No posts found.</p>
      <% } else { %>
        <% posts.forEach( (post) => { %>
            <div class="post-card">
                <div class="post-image"></div>
              <div class="post-content">
                <strong class="d-inline-block mb-2 text-primary"><%= post.category %></strong>
                <h2 class="post-title"><%= post.title %></h2>
                <div class="post-date"><%= post.date.toDateString() %></div>
                <p class="post-excerpt"><%= post.content.substring(0, 100) + " ..." %></p>
                <a class="post-read-more" href="/posts/<%= post._id %>">Read More</a>
              </div>
            </div>
          <% }); %>
      <% } %>
    </div>
  </div>
</main>

<%- include("partials/footer"); -%>


